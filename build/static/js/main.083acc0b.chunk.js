(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{262:function(e,t,a){"use strict";a.r(t);var l=a(1),n=a.n(l),i=a(14),s=a.n(i),o=a(89),r=a(90),c=a(95),d=a(91),m=a(96),h=a(36),p=a.n(h),u=a(94),g=a.n(u),f=a(38),b=a.n(f),E=a(93),v=a.n(E),y=a(37),F=a.n(y),w=a(15),A=a.n(w),j=a(53),_=a.n(j),x=a(51),k=a.n(x),S=a(27),I=a.n(S),B=a(52),C=a.n(B),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).showResults=function(e){p.a.get(e).set("Accept","application/json").then(function(e){a.setState({resultsApi:e.body.result})}).catch(function(e){console.log(e)})},a.verifyProgress=function(e){p.a.get(e).set("Accept","application/json").then(function(t){var l=parseInt(t.body.result.advanced[0]);t.body.result.finished_at&&(a.setState({loading:!1}),e=e.slice(0,-1)+"1",a.showResults(e),clearInterval(a.timer)),a.setState({completed:l})}).catch(function(e){console.log(e)})},a.handleselectedBigFile=function(e){a.setState({bigFile:e.target.files[0],loaded:0})},a.handleselectedLittleFile=function(e){a.setState({littleFile:e.target.files[0],loaded:0})},a.handleTreshold=function(e){a.setState({treshold:e.target.value})},a.handleUpload=function(){if(a.state.bigFile&&a.state.littleFile){var e="https://audio-records-app.herokuapp.com/";p.a.post("https://audio-records-app.herokuapp.com/collection").attach("big_file",a.state.bigFile).attach("little_file",a.state.littleFile).field("threshold",a.state.treshold).then(function(t){e=e.concat(t.body.id,"?include=['charts']"),a.timer=setInterval(a.verifyProgress,500,e),a.setState({loading:!0})})}},a.state={resultsApi:null,bigFile:null,littleFile:null,loading:!1,treshold:0,completed:0},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App",style:{textAlign:"center"}},n.a.createElement(A.a,{container:!0,spacing:24,justify:"center",alignItems:"center"},n.a.createElement(A.a,{item:!0,xs:6},n.a.createElement("input",{accept:"audio/*",id:"contained-big-file",type:"file",style:{display:"none"},onChange:this.handleselectedBigFile}),n.a.createElement("label",{htmlFor:"contained-big-file"},n.a.createElement(F.a,{variant:"contained",component:"span",disabled:this.state.loading},"Upload Big File"),this.state.loading&&n.a.createElement(b.a,{size:24,color:"secondary"}),n.a.createElement("label",null,this.state.bigFile?this.state.bigFile.name:"No file selected"))),n.a.createElement(A.a,{item:!0,xs:6},n.a.createElement("input",{accept:"audio/*",id:"contained-little-file",type:"file",style:{display:"none"},onChange:this.handleselectedLittleFile}),n.a.createElement("label",{htmlFor:"contained-little-file"},n.a.createElement(F.a,{variant:"contained",component:"span",disabled:this.state.loading},"Upload Little File"),this.state.loading&&n.a.createElement(b.a,{size:24,color:"secondary"}),n.a.createElement("label",null,this.state.littleFile?this.state.littleFile.name:"No file selected"))),n.a.createElement(A.a,{item:!0,xs:12},n.a.createElement(k.a,null,n.a.createElement(C.a,{htmlFor:"component-simple"},"Threshold"),n.a.createElement(I.a,{id:"component-simple",onChange:this.handleTreshold}))),n.a.createElement(F.a,{variant:"contained",color:"primary",onClick:this.handleUpload,disabled:this.state.loading||!this.state.bigFile||!this.state.littleFile,style:{marginRight:"30px"}},"Send",n.a.createElement(v.a,null)),this.state.loading&&n.a.createElement(b.a,{size:24,color:"secondary"}),n.a.createElement(A.a,{item:!0,xs:12},this.state.loading&&n.a.createElement(g.a,{variant:"determinate",value:this.state.completed}))),this.state.resultsApi&&n.a.createElement("div",null,n.a.createElement(A.a,{container:!0,spacing:24,justify:"center",alignItems:"center"},n.a.createElement(_.a,{id:"standard-name",label:"Time start of best precision",value:this.state.resultsApi?this.state.resultsApi.results.start_second:"",margin:"normal"}),n.a.createElement(_.a,{id:"standard-name",label:"Time start of best precision",value:this.state.resultsApi?this.state.resultsApi.results.end_second:"",margin:"normal"}),n.a.createElement(A.a,{item:!0,xs:12},n.a.createElement("img",{alt:"",src:this.state.resultsApi.results.distances_overlapping_img})),n.a.createElement(A.a,{item:!0,xs:12},n.a.createElement("img",{alt:"",src:this.state.resultsApi.results.best_adjust_overlapping_img})))))}}]),t}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},97:function(e,t,a){e.exports=a(262)}},[[97,2,1]]]);
//# sourceMappingURL=main.083acc0b.chunk.js.map